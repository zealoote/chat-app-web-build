{"version":3,"sources":["data/chat-data.js","screens/welcome.js","blocks/chat-block.js","blocks/input-block.js","screens/chat-room.js","App.js"],"names":["ChatData","this","data","LOCAL_HOST","addressName","Welcome","navigation","useState","name","onChangeName","View","style","styles","container","marginTop","Text","text","flexDirection","justifyContent","fontSize","fontWeight","TextInput","marginStart","padding","borderRadius","borderWidth","value","onChangeText","Button","title","onPress","trim","length","replace","includes","alert","navigate","chatName","console","log","StyleSheet","create","flex","backgroundColor","alignItems","ChatBlock","props","block","color","time","InputBlock","chatText","sendButtonPressed","multiline","placeholder","textAlignVertical","TouchableOpacity","width","height","borderColor","ChatRoom","route","COLORS","params","useEffect","FlatList","id","reverse","keyExtractor","item","renderItem","linking","config","screens","Stack","createNativeStackNavigator","App","NavigationContainer","Navigator","Screen","component","Chat"],"mappings":"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","file":"static/js/app.3e9e1e7a.chunk.js","sourcesContent":["\nclass ChatData{\n\n    static data ;\n\n    constructor(){\n        this.data = {\n            LOCAL_HOST:\"192.168.31.202\"\n        }\n    }\n\n}\n\nexport default ChatData;","import { useState } from \"react\";\nimport { View , Text, StyleSheet, Button,TextInput } from \"react-native\";\nimport LOCAL_HOST from \"../data/chat-data\"\n\nconst welcomeTextLine1 = '欢迎来到法兰克留言板!'\n\nconst addressName = new LOCAL_HOST();\n\nconsole.log(addressName.data.LOCAL_HOST);\n\nexport default function Welcome({navigation}){\n\n    const [name,onChangeName] = useState(\"\");\n\n    const checkEmpty = ()=>{\n        if (name.trim().length == 0 || name.length > 20 || name.trim().replace(\" \",\"\").includes(\"法兰克\")) {\n            alert(\"请务必输入您的大名,且名字不能太长了哟,20字以内吧,并且你不能叫法兰克\")\n        }else{\n            navigation.navigate('留言板',{chatName:name})\n        }\n    }\n\n    return(\n        <View style ={styles.container}>\n            <View style={{marginTop:100}} >\n                <Text style={styles.text}> {welcomeTextLine1}</Text>\n            </View>\n            <View style={{flexDirection:'row',justifyContent:'center'}} >\n                <View style={{justifyContent:'center'}} >\n                    <Text style={{fontSize:18,fontWeight:'bold'}} >您的大名:</Text>\n                </View>\n                <View>\n                    <TextInput\n                        style={{\n                            marginStart:5,\n                            padding:3,\n                            fontSize:18,\n                            borderRadius:3,\n                            borderWidth:0.8\n                        }}\n                        value={name}\n                        onChangeText={onChangeName}\n                    />\n                </View>\n            </View>\n\n            <View\n                style={{}}\n            >\n                <Button\n                    title=\"进入留言板\" \n                    onPress={\n                    ()=>{checkEmpty()}\n                }/>\n            </View>\n        </View>\n    )\n}\n\nconst styles = StyleSheet.create({\n    container: {\n      flex: 1,\n      backgroundColor: 'rgba(233,233,233,1.0)',\n      alignItems: 'center',\n      justifyContent:'space-around',\n    },\n    text:{\n        fontSize:28,\n        fontWeight:'bold',\n        alignItems:'center',\n    }\n  });","import { View,Text,StyleSheet } from \"react-native\";\n\nexport default function ChatBlock(props){\n\n    const styles = StyleSheet.create({\n        block:{\n            flex:1,\n            padding:5,\n            backgroundColor:props.color\n        },\n    });\n\n    console.log(props);\n\n    return(\n        <View style={styles.block}>\n            <View style={{flex:1}}>\n                <Text> {props.text} </Text>\n            </View>\n            <View style={{flex:1,flexDirection:'row',marginTop:3}}>\n                <View style={{flex:1,alignItems:'flex-start'}}>\n                    <Text style={{fontWeight:'bold'}}> {props.name} </Text>\n                </View>\n                <View style={{flex:1,alignItems:'flex-end'}}>\n                    <Text> {props.time} </Text>\n                </View>\n            </View>\n        </View>\n    );\n\n}","import { useState } from \"react\";\nimport {View, Text,TextInput, Button, TouchableOpacity } from \"react-native\";\n\nexport default function InputBlock(props){\n\n    const [chatText,onChangeText] = useState(\"\");\n    const URL_POST = 'http://10.1.58.15:8080/chat/add';\n\n    const chatName = props.chatName;\n\n    const checkEmpty = ()=>{\n        if (chatText.trim().length == 0 || chatText.length > 100) {\n            alert(\"警告！不能发送空的留言.\\n留言要在100字内,言简意赅!\");\n        } else {\n            sendButtonPressed();\n        }\n    }\n\n    const postData = ()=>{\n        const today = new Date();\n        const time = today.toLocaleDateString()+\"-\"+today.toLocaleTimeString();\n        const jsonObject = {\n            chatName:chatName,\n            chatText:chatText,\n            time:time\n        }\n        try {\n            fetch(URL_POST,{\n                method:'POST',\n                headers:{'Content-Type':'application/json'},\n                body:JSON.stringify(jsonObject)\n            })\n        } catch (error) {\n            console.error(error) \n        }\n    }\n\n    const sendButtonPressed = ()=>{\n        // postData();\n        // onChangeText(\"\");\n    }\n\n    return(\n        <View style={{\n            flex:1,\n            padding:20,\n        }}>\n            <View style={{flex:1,flexDirection:'row'}}>\n                <View style={{\n                        flex:10,\n                        borderRadius:2,\n                        backgroundColor:'rgba(248,248,248,1.0)'}}>\n                    <TextInput\n                    style={{flex:1,padding:5}}\n                    multiline ={true}\n                    placeholder='请在此留言'\n                    textAlignVertical='top'\n                    value={chatText}\n                    onChangeText={onChangeText}/>\n                </View>\n                <View\n                    style={{flex:3,justifyContent:'center',alignItems:'flex-end'}}\n                >\n                    <TouchableOpacity \n                        onPress={()=>{checkEmpty()}}\n                        style={{\n                            width:'85%',\n                            height:'95%',\n                            borderRadius:5,\n                            borderColor:'black',\n                            borderWidth:2,\n                            alignItems:'center',\n                            justifyContent:'center'}}\n                        >\n                        <Text style={{fontWeight:'bold'}} >点此发送</Text>\n                    </TouchableOpacity>\n                </View>\n            </View>\n\n        </View>\n    )\n}","import { useEffect, useState } from \"react\";\nimport { View , Text, StyleSheet,FlatList } from \"react-native\";\nimport ChatBlock from \"../blocks/chat-block\";\nimport InputBlock from \"../blocks/input-block\";\n\nexport default function ChatRoom({route}){\n\n    const URL_ADDRESS = 'http://10.1.58.15:8080/chat/all';\n    const COLORS = ['rgba(240,240,240,1.0)','rgba(255,255,255,1.0)'];\n    const [datas,setData] = useState([]);\n    const {chatName} = route.params;\n    \n    //This is the data for testing\n    const Texts = [\n        {id:1,chatName:'法兰克',chatText:'这是一个留言',time:'2022-7-1'},\n        {id:2,chatName:'法兰克',chatText:'这是一个留言',time:'2022-7-2'},\n        {id:3,chatName:'法兰克',chatText:'这是一个留言',time:'2022-7-3'},\n        {id:4,chatName:'法兰克',chatText:'这是一个留言',time:'2022-7-4'},\n        {id:5,chatName:'法兰克',chatText:'这是一个留言',time:'2022-7-5'},\n        {id:6,chatName:'法兰克',chatText:'这是一个留言',time:'2022-7-6'},\n        {id:7,chatName:'法兰克',chatText:'这是一个留言',time:'2022-7-7'},\n        {id:8,chatName:'法兰克',chatText:'这是一个留言',time:'2022-7-8'},\n        {id:9,chatName:'法兰克',chatText:'这是一个留言',time:'2022-7-9'},\n        {id:10,chatName:'法兰克',chatText:'这是一个留言',time:'2022-7-10'},\n        {id:11,chatName:'法兰克',chatText:'这是一个留言',time:'2022-7-11'},\n        {id:12,chatName:'法兰克',chatText:'这是一个留言',time:'2022-7-12'},\n        {id:13,chatName:'法兰克',chatText:'这是一个留言',time:'2022-7-13'},\n        {id:14,chatName:'法兰克',chatText:'这是一个留言',time:'2022-7-14'},\n    ];\n\n    const getData = async (address)=>{\n        try {\n            const response = await fetch(address);\n            const json = await response.json();\n            console.log(json);\n            setData(json);\n        } catch (error) {\n            console.error(error);\n        }\n    }\n\n    useEffect(()=>{\n        // getData(URL_ADDRESS);\n    });\n\n    return(\n        <View style ={styles.container}>\n            <FlatList\n            style={{flex:3}}\n            data={Texts.reverse()}\n            keyExtractor={item=>item.id}\n            renderItem={ ({item})=>(\n                <ChatBlock\n                    text={item.chatText}\n                    name={item.chatName}\n                    time={item.time}\n                    color={item.id%2 == 1 ? COLORS[0]:COLORS[1]} />\n            )}/>\n            <InputBlock \n            chatName = {chatName}\n            style={{flex:2}}\n            />\n        </View>\n    )\n}\n\nconst styles = StyleSheet.create({\n    container: {\n      flex: 1,\n      backgroundColor: '#fff',\n    },\n  });","import { StatusBar } from 'expo-status-bar';\nimport { StyleSheet, Text, View } from 'react-native';\nimport Welcome from './screens/welcome';\nimport Chat from './screens/chat-room';\nimport { NavigationContainer } from '@react-navigation/native';\nimport { createNativeStackNavigator } from '@react-navigation/native-stack';\n\nconst linking = {\n  config:{\n    screens:{\n      'Welcome':'/weclome',\n      '留言板':'/chatroom'\n    }\n  }\n}\n\nconst Stack = createNativeStackNavigator();\n\nexport default function App() {\n  return (\n    <NavigationContainer linking={linking}>\n      <Stack.Navigator>\n        <Stack.Screen name ='Welcome' component={Welcome}/>\n        <Stack.Screen name ='留言板' component={Chat}/>\n      </Stack.Navigator>\n    </NavigationContainer>\n  );\n}\n"],"sourceRoot":""}